{
  "name": "Customer Support WhatsApp Bot with Google Docs Knowledge Base and Gemini AI",
  "nodes": [
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.finalPrompt }}\n\n\n",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "You are [Company]â€™s support assistant for Black Ball Sporting Club.\nâ€¢ Do NOT include any preamble such as â€œBased on the document you providedâ€ or â€œOkay, [Name].â€ Just jump straight to the answer.\n* don't ever start your response with\"based on the document you provided\" , or \"According to the document\", don't mention any documents at all , also don't mention today's date unless you asked\n"
        }
      },
      "id": "02f761e2-83c4-488b-91f4-f4ae11b15c00",
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "maxTries": 5,
      "position": [
        1408,
        688
      ],
      "retryOnFail": false,
      "typeVersion": 1.7,
      "alwaysOutputData": true,
      "waitBetweenTries": null
    },
    {
      "parameters": {
        "jsCode": "// cleanAnswer â€“ run once per item\nlet txt = $('AI Agent').first().json.output || '';\n\n// 1. Remove bold / italic / strike markers\ntxt = txt.replace(/[*_~]+/g, '');\n\n// 2. Convert [Texto](https://url) â†’ Texto https://url\ntxt = txt.replace(/\\[([^\\]]+)\\]\\((https?:\\/\\/[^\\s)]+)\\)/g, '$1 $2');\n\n// 3. Collapse 3+ blank lines\ntxt = txt.replace(/\\n{3,}/g, '\\n\\n').trim();\n\n// 4. Remove the unwanted source-reference preamble\ntxt = txt.replace(/^.*?based on the document you provided[,:]?\\s*/i, '');\n\nreturn [{ json: { answer: txt } }];\n"
      },
      "id": "57ecb397-5772-4db3-8a5a-ce28a4e01e63",
      "name": "cleanAnswer",
      "type": "n8n-nodes-base.code",
      "position": [
        2672,
        592
      ],
      "typeVersion": 2
    },
    {
      "parameters": {
        "jsCode": "// within24h?  â€“ run once per item\n// Meta (WhatsApp) timestamp arrives as seconds since epoch\nconst lastTs = Number($('when message received').first().json.messages[0].timestamp) * 1000;   // â†’ ms\nconst withinWindow = Date.now() - lastTs < 24 * 60 * 60 * 1000;\n\nreturn [{ json: { withinWindow, answer: $json.answer, userId: $json.userId } }];"
      },
      "id": "d70cf8b1-8c24-44f2-9b37-5205b130cff2",
      "name": "24-hour window check",
      "type": "n8n-nodes-base.code",
      "position": [
        2240,
        688
      ],
      "typeVersion": 2
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "d33e218e-a49a-49ed-9c6b-55b9ea0b0dbb",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              },
              "leftValue": "={{ $json.withinWindow }}",
              "rightValue": ""
            }
          ]
        },
        "options": {}
      },
      "id": "66c83de5-413a-440f-804e-15b137beb873",
      "name": "If",
      "type": "n8n-nodes-base.if",
      "position": [
        2448,
        688
      ],
      "typeVersion": 2.2
    },
    {
      "parameters": {
        "phoneNumberId": "641448739058783",
        "recipientPhoneNumber": "={{ $('when message received').item.json.contacts[0].wa_id }}",
        "template": "hello_world|en_US"
      },
      "id": "80fc3049-8474-4392-9e04-f5686eb82687",
      "name": "Send Pre-approved Template Message to Reopen the Conversation",
      "type": "n8n-nodes-base.whatsApp",
      "position": [
        2672,
        784
      ],
      "webhookId": "ef6de86f-66df-4586-bd75-2056626d5474",
      "typeVersion": 1,
      "credentials": {
        "whatsAppApi": {
          "id": "e2WPWUgEnaHw2jhr",
          "name": "WhatsApp account 010"
        }
      }
    },
    {
      "parameters": {
        "operation": "send",
        "phoneNumberId": "=641448739058783",
        "recipientPhoneNumber": "={{ $('when message received').item.json.contacts[0].wa_id }}",
        "textBody": "={{ $json.answer }}",
        "additionalFields": {}
      },
      "id": "d77ae0ae-c332-4030-8c77-8ea44c56c9a8",
      "name": "Send AI Agent's Answer",
      "type": "n8n-nodes-base.whatsApp",
      "position": [
        2896,
        592
      ],
      "webhookId": "8da6eeda-31ec-448a-9d75-2d5dbc5f10f9",
      "typeVersion": 1,
      "credentials": {
        "whatsAppApi": {
          "id": "e2WPWUgEnaHw2jhr",
          "name": "WhatsApp account 010"
        }
      }
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.5-flash-preview-04-17-thinking",
        "options": {}
      },
      "id": "c9d931c3-d88c-4d15-b8fe-787327c0200a",
      "name": "Google Gemini Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        1376,
        912
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "updates": [
          "messages"
        ],
        "options": {}
      },
      "id": "630ac52d-1d65-408e-b614-17a97bddab10",
      "name": "when message received",
      "type": "n8n-nodes-base.whatsAppTrigger",
      "position": [
        752,
        688
      ],
      "webhookId": "6b645b70-61db-4d4d-af47-2f39295cf196",
      "typeVersion": 1
    },
    {
      "parameters": {
        "instructions": "Write code to:\nâ€¢ Get todayâ€™s date formatted â€œMonth Day, Yearâ€\nâ€¢ Extract the Google Docâ€™s plain text by joining its body.content textRuns\nâ€¢ Extract the WhatsApp message from messages[0].text.body\nâ€¢ Build a field finalPrompt exactly as:\n\nvbnet\nCopy\nEdit\nToday's date is: [date]\n\n[doc text]\n\nUser's question:\n[body]\nâ€¢ Return finalPrompt only.",
        "codeGeneratedForPrompt": "Write code to:\nâ€¢ Get todayâ€™s date formatted â€œMonth Day, Yearâ€\nâ€¢ Extract the Google Docâ€™s plain text by joining its body.content textRuns\nâ€¢ Extract the WhatsApp message from messages[0].text.body\nâ€¢ Build a field finalPrompt exactly as:\n\nvbnet\nCopy\nEdit\nToday's date is: [date]\n\n[doc text]\n\nUser's question:\n[body]\nâ€¢ Return finalPrompt only.",
        "jsCode": "const googleDocs = $input.all().map((item) => item.json);\nconst whatsappMessages = $(\"when message received\")\n  .all()\n  .map((item) => item.json);\n\nconst date = new Date();\nconst formattedDate = `${date.getMonth() + 1} ${date.getDate()}, ${date.getFullYear()}`;\n\nconst docText = googleDocs[0].content.split(\"\\n\").join(\" \");\n\nconst body = whatsappMessages[0].messages[0].text.body;\n\nconst finalPrompt = `Today's date is: ${formattedDate}\\n\\n${docText}\\n\\nUser's question:\\n${body}`;\n\nreturn { finalPrompt };\n"
      },
      "id": "df46b528-cbbd-49c2-9b83-4402ef0c8ac7",
      "name": "Prepare Prompt",
      "type": "n8n-nodes-base.aiTransform",
      "position": [
        1200,
        688
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1Ub8QIhGPOm1G4ylaM48iMAous1zvBO3YDl-38AKDuFw",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Ub8QIhGPOm1G4ylaM48iMAous1zvBO3YDl-38AKDuFw/edit?usp=drivesdk",
          "cachedResultName": "Chat Logs"
        },
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": "gid=0",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Ub8QIhGPOm1G4ylaM48iMAous1zvBO3YDl-38AKDuFw/edit#gid=0",
          "cachedResultName": "Sheet1"
        },
        "columns": {
          "value": {
            "User": "={{ $('when message received').item.json.messages[0].from }}",
            "Message": "={{ $('when message received').item.json.messages[0].text.body }}",
            "Response": "={{ $('AI Agent').item.json.output }}",
            "Timestamp": "={{ $json.currentDate }}"
          },
          "schema": [
            {
              "id": "Timestamp",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Timestamp",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "User",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "User",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Message",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Message",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Response",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "Response",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 5",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 5",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 6",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 6",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 7",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 7",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 8",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 8",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 9",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 9",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 10",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 10",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 11",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 11",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 12",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 12",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 13",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 13",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 14",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 14",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 15",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 15",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 16",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 16",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 17",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 17",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 18",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 18",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 19",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 19",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 20",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 20",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 21",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 21",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 22",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 22",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 23",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 23",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 24",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 24",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 25",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 25",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "Column 26",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "Column 26",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [
            "Timestamp"
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "id": "19de46dc-add8-4cad-81a9-6e5b341f1f33",
      "name": "Google Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        2016,
        688
      ],
      "typeVersion": 4.6,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "OrqfwlW340pHk7zN",
          "name": "Google Sheets account right one"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "id": "b622392e-65dc-4d27-a5f9-d27ea57aae61",
      "name": "Date & Time",
      "type": "n8n-nodes-base.dateTime",
      "position": [
        1792,
        688
      ],
      "typeVersion": 2
    },
    {
      "parameters": {
        "content": "Ù…Ø³Ø§Ø¹Ø¯ ÙˆØ§ØªØ³Ø§Ø¨ Ø°ÙƒÙŠ ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Google Docs\n\nğŸ“Œ Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠÙ‚Ø¯Ù‘Ù…Ù‡ØŸ\nÙŠÙØ¬ÙŠØ¨ Ø¹Ù„Ù‰ Ø£Ø³Ø¦Ù„Ø© ÙˆØ§ØªØ³Ø§Ø¨ ÙÙˆØ±Ù‹Ø§ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø­ØªÙˆÙ‰ Ø¯Ø§Ø®Ù„ÙŠ Ù…Ù† Ù…Ø³ØªÙ†Ø¯ Google.\nÙ„Ø§ ÙŠØ­ØªØ§Ø¬ Ø£ÙŠ ØªØ¯Ø±ÙŠØ¨ â€” ÙÙ‚Ø· Ø­Ø¯Ù‘Ø« Ø§Ù„Ù…Ø³ØªÙ†Ø¯ ÙˆØ³ÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ø¨Ø§Ø´Ø±Ø©.\n\nğŸ“„ ÙŠÙ‚Ø±Ø£ Ù…Ø³ØªÙ†Ø¯ Google Ø­ÙŠÙ‘\nğŸ’¬ ÙŠØ³ØªÙ‚Ø¨Ù„ Ø±Ø³Ø§Ø¦Ù„ ÙˆØ§ØªØ³Ø§Ø¨\nğŸ§  ÙŠÙ†Ø´Ø¦ Ø¨Ø±ÙˆÙ…Ø¨Øª Ø°ÙƒÙŠ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰: ØªØ§Ø±ÙŠØ® Ø§Ù„ÙŠÙˆÙ… + Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„ + Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø³ØªÙ†Ø¯\nâš¡ ÙŠØ³ØªØ®Ø¯Ù… OpenAI Ø£Ùˆ Gemini Ù„ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø±Ø¯\nğŸ“¤ ÙŠØ±Ø³Ù„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨\n\nğŸ§° Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©:\n\nØ­Ø³Ø§Ø¨ WhatsApp Business Cloud API\n\nÙ…Ø³ØªÙ†Ø¯ Google ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù…Ù„Ùƒ\n\nÙ…ÙØªØ§Ø­ API Ù…Ù† OpenAI Ø£Ùˆ Gemini\n\nğŸ›  Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯:\n\nØ¶Ø¹ Ø§Ù„Ù€ Doc ID Ø§Ù„Ø®Ø§Øµ Ø¨Ù…Ø³ØªÙ†Ø¯ Google Ø¯Ø§Ø®Ù„ Node\n\nÙˆØµÙ‘Ù„ WhatsApp Cloud API (Meta)\n\nØ§Ø±Ø¨Ø· Ø­Ù‚Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©\n\nÙˆØµÙ‘Ù„ OpenAI Ø£Ùˆ Gemini\n\nØ§Ù†Ø´Ø± Ø§Ù„Ù€ Workflow ÙˆØ¬Ø±Ù‘Ø¨Ù‡ Ø¨Ø±Ø³Ø§Ù„Ø© ÙØ¹Ù„ÙŠØ©\n\nğŸ‰ ÙˆØ®Ù„Ø§Øµ! Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø².\n\nğŸ¤ ØªØ­ØªØ§Ø¬ Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ØŸ\nØ¥Ø°Ø§ ÙƒÙ†Øª ØªØ±ØºØ¨ ÙÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙŠ Ø¨ØªÙˆØµÙŠÙ„ WhatsApp Business API Ø£Ùˆ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Google Docs Ø£Ùˆ ØªØ®ØµÙŠØµ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ù„Ø¹Ù…Ù„Ùƒ Ø£Ùˆ Ù„Ø¹Ù…Ù„Ø§Ø¦Ùƒâ€¦\n\nğŸ“© Ø£Ù‚Ø¯Ù‘Ù… Ø®Ø¯Ù…Ø§Øª Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØªØ®ØµÙŠØµ ØªØ´Ù…Ù„:\n\nØ¥Ø¹Ø¯Ø§Ø¯ ÙˆØªÙ‡ÙŠØ¦Ø© WhatsApp Cloud API ÙˆØ§Ù„ØªØ­Ù‚Ù‘Ù‚\n\nØ¥Ø¹Ø¯Ø§Ø¯ Google OAuth ÙˆØªÙ†Ø¸ÙŠÙ… Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø³ØªÙ†Ø¯\n\nØ¶Ø¨Ø· Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ (OpenAI / Gemini)\n\nØªØ®ØµÙŠØµ Ø§Ù„Ø¨Ø±Ø§Ù†Ø¯ ÙˆÙ†Ø¨Ø±Ø© Ø§Ù„Ø±Ø¯ÙˆØ¯\n\nØ¥Ø¶Ø§ÙØ© Ø§Ù„Ù„ÙˆØ¬Ø² ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆÙ…Ù†Ø·Ù‚ Ø§Ù„ØªØµØ¹ÙŠØ¯",
        "height": 1420
      },
      "id": "a6ae2118-9d68-4fb0-b975-b9c6d4170e00",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        368,
        240
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "operation": "get",
        "documentURL": "=1Uv1WYCcXNlp-jaeJ7-"
      },
      "id": "8f4a786b-fc6d-4e2f-b8df-c605475afc81",
      "name": "company's knowledge",
      "type": "n8n-nodes-base.googleDocs",
      "position": [
        976,
        688
      ],
      "typeVersion": 2
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('when message received').item.json.contacts[0].wa_id }}"
      },
      "id": "a6de89dd-ada0-432c-9f8e-ece38264ad81",
      "name": "Simple Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        1488,
        912
      ],
      "typeVersion": 1.3
    },
    {
      "parameters": {
        "content": "## ØªÙ… Ø§Ù„Ø§Ù†Ø´Ø§Ø¡ Ø¨ÙˆØ§Ø³Ø·Ø© \nØªÙ… Ø§Ù„Ø§Ù†Ø´Ø§Ø¡ Ø¨ÙˆØ§Ø³Ø·Ø© **Ù…. Ø£Ø­Ù…Ø¯ Ø§Ù„ØµÙŠØ±ÙÙŠ**  \n\nÙ„Ù„ØªØ¹Ù„Ù‘Ù… ÙˆØªØ·ÙˆÙŠØ± Ù…Ù‡Ø§Ø±Ø§ØªÙƒ ÙÙŠ Ø§Ù„Ø£ØªÙ…ØªØ©ØŒ Ø²ÙˆØ± Ù…ÙˆÙ‚Ø¹Ù†Ø§: \n [ahmedelserafy.com](https://ahmedelserafy.com/automation_course)\n\n\n",
        "height": 176,
        "width": 288
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        624,
        240
      ],
      "typeVersion": 1,
      "id": "e1fa2df9-954d-4f0d-8ae2-76618a5ec6cd",
      "name": "Sticky Note1"
    }
  ],
  "pinData": {},
  "connections": {
    "If": {
      "main": [
        [
          {
            "node": "cleanAnswer",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send Pre-approved Template Message to Reopen the Conversation",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Date & Time",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Date & Time": {
      "main": [
        [
          {
            "node": "Google Sheets",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "cleanAnswer": {
      "main": [
        [
          {
            "node": "Send AI Agent's Answer",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets": {
      "main": [
        [
          {
            "node": "24-hour window check",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Prepare Prompt": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "company's knowledge": {
      "main": [
        [
          {
            "node": "Prepare Prompt",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "24-hour window check": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "when message received": {
      "main": [
        [
          {
            "node": "company's knowledge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "2f030c07-20b2-4b4e-b510-76749f473680",
  "meta": {
    "templateId": "4966",
    "instanceId": "eb58054caf61c2552d4b13cc032edccc043473990c2938118b79640890b4e573"
  },
  "id": "NLjyALNKqDhhfsy5",
  "tags": []
}